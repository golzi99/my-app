"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[67],{67:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var l=a(661);const t="Dialogs_dialogs__rxG43",r="Dialogs_dialogsItems__dAHdH",n="Dialogs_item__TWkCd",i="Dialogs_active__ROeba",o="Dialogs_messages__CtKjq";var d=a(43),u=a(475),c=a(257),g=a(579);function m(e){let s="/dialogs/".concat(e.id);return(0,g.jsx)("div",{className:"".concat(n),children:(0,g.jsxs)(u.k2,{to:s,className:e=>e.isActive?i:n,children:[(0,g.jsx)("img",{alt:"Avatar",src:c}),e.name]})})}const x="Messages_myMessage__fWnB8",j="Messages_otherMessage__JNwu+";function h(e){return(0,g.jsxs)("div",{className:x,children:[e.textMessage,(0,g.jsx)("img",{alt:"avatar",src:c})]})}function _(e){return(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)("img",{alt:"avatar",src:c}),e.textMessage]})}var v=a(768);const p=d.memo((e=>{let s=0,a=e.dialogsData.map((e=>(0,g.jsx)(m,{name:e.name,id:e.id},e.id))),l=e.messagesData.map((e=>(s++,0===e.id?(0,g.jsx)(h,{textMessage:e.message},s):(0,g.jsx)(_,{textMessage:e.message},s))));return(0,g.jsxs)("div",{className:t,children:[(0,g.jsx)("div",{className:r,children:a}),(0,g.jsxs)("div",{className:o,children:[l,(0,g.jsx)(v.T,{})]})]})}));var w=a(3),b=a(216);let y=e=>({isAuth:e.auth.isAuth});var B=a(923),T=a(892),Y=a(336);const k=(0,B.Zz)((0,w.Ng)((e=>({dialogsData:e.dialogsPage.dialogsData,messagesData:e.dialogsPage.messagesData})),(e=>({sendNewMessage:s=>{e((0,l.g)(s))}}))),(e=>(0,w.Ng)(y,{})((function(s){return s.isAuth?(0,g.jsx)(e,{...s}):(0,g.jsx)(b.C5,{to:"/login"})}))))((function(e){return(0,g.jsx)(T.l1,{initialValues:{newTextBody:""},validationSchema:Y.RB,onSubmit:s=>{e.sendNewMessage(s.newTextBody),s.newTextBody=""},children:(0,g.jsx)(p,{...e})})}))},336:(e,s,a)=>{a.d(s,{LS:()=>t,RB:()=>n,__:()=>r,tc:()=>i});var l=a(899);const t=l.Ik().shape({email:l.Yj().email("Invalid email").required("Required email"),password:l.Yj().required("Required password"),captcha:l.Yj().when("captchaUrl",{is:!0,then:l.Yj().required("Required captcha symbols")})}),r=l.Ik().shape({newTextBody:l.Yj().max(100,"Too Long!").required("Required")}),n=l.Ik().shape({newTextBody:l.Yj().required("Required")}),i=l.Ik().shape({facebook:l.Yj().url("Wrong url!").nullable(),website:l.Yj().url("Wrong url!").nullable(),vk:l.Yj().url("Wrong url!").nullable(),twitter:l.Yj().url("Wrong url!").nullable(),instagram:l.Yj().url("Wrong url!").nullable(),youtube:l.Yj().url("Wrong url!").nullable(),github:l.Yj().url("Wrong url!").nullable(),mainLink:l.Yj().url("Wrong url!").nullable()})},768:(e,s,a)=>{a.d(s,{T:()=>n});const l={sendMessageBox:"PostSmtFormCss_sendMessageBox__CaGjP"};a(43);var t=a(892),r=a(579);function n(){const e=(0,t.j7)();let s=e.touched.newTextBody&&e.errors.newTextBody;return(0,r.jsx)("div",{className:l.sendMessageBox,children:(0,r.jsxs)(t.lV,{children:[(0,r.jsx)(t.D0,{type:"textarea",id:"newTextBody",name:"newTextBody",placeholder:"Enter your message",component:"textarea"}),s?(0,r.jsx)("div",{children:e.errors.newTextBody}):null,(0,r.jsx)("button",{type:"submit",children:"Send"})]})})}}}]);
//# sourceMappingURL=67.1129744b.chunk.js.map